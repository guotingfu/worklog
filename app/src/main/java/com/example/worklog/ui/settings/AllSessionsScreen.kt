package com.example.worklog.ui.settings\n\nimport androidx.compose.foundation.background\nimport androidx.compose.foundation.layout.Arrangement\nimport androidx.compose.foundation.layout.padding\nimport androidx.compose.foundation.lazy.LazyColumn\nimport androidx.compose.foundation.lazy.items\nimport androidx.compose.material.icons.Icons\nimport androidx.compose.material.icons.filled.ArrowBack\nimport androidx.compose.material3.*\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.collectAsState\nimport androidx.compose.runtime.getValue\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.text.font.FontWeight\nimport androidx.compose.ui.unit.dp\nimport com.example.worklog.ui.theme.BackgroundGray\n\n@OptIn(ExperimentalMaterial3Api::class)\n@Composable\nfun AllSessionsScreen(\n    viewModel: SettingsViewModel,\n    onNavigateBack: () -> Unit\n) {\n    val allSessions by viewModel.allSessions.collectAsState(initial = emptyList())\n\n    Scaffold(\n        topBar = {\n            TopAppBar(\n                title = { Text(\"所有打卡记录\", fontWeight = FontWeight.Bold) },\n                navigationIcon = {\n                    IconButton(onClick = onNavigateBack) {\n                        Icon(Icons.Default.ArrowBack, contentDescription = \"Back\")\n                    }\n                }\n            )\n        }\n    ) {\ padding ->\n        LazyColumn(\n            modifier = Modifier\n                .background(BackgroundGray)\n                .padding(padding)\n                .padding(16.dp),\n            verticalArrangement = Arrangement.spacedBy(16.dp)\n        ) {\n            items(allSessions) { session ->\n                SessionHistoryItem(\n                    session = session,\n                    onDelete = { viewModel.deleteSession(it) },\n                    onUpdateNote = { s, n -> viewModel.updateSessionNote(s, n) }\n                )\n            }\n        }\n    }\n}